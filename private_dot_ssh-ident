# Note that if no match is found, the DEFAULT_IDENTITY is used. This is
# generally your loginname, no need to change it.
# This is optional - don't include any DEFAULT_IDENTITY if you don't
# need it.
DEFAULT_IDENTITY = "work"

MATCH_PATH = [
  # [directory pattern, identity]
  [r"src/personal", "personal"],
]

MATCH_ARGV = [
  [r"^(git@)?(gist\.)?github\.com$", "personal"],
]

# This is optional - don't include any SSH_ADD_OPTIONS if you don't
# need it.
# Otherwise, provides options to be passed to the ssh-add command for
# specific identities and/or binaries. First fitting entry wins.
# First element is a list of identities, second element is a list of
# binaries and third element is the option string.
# An empty list means for all identities or all binaries.
SSH_ADD_OPTIONS = [
  # Add ykcs11 auth for work sessions
  [ ["work"], [], "-s /usr/lib/libykcs11.so -t 7200"],
  # As default prevent keys remaining in memory for too long (>2h) for all
  # identities and binaries. Set SSH_ADD_OPTIONS to empty to disable this.
  [ [], [], "-t 7200"],
]

SSH_OPTIONS = [
  # As default pass UseRoaming=no to standard ssh binaries for all identities,
  # due to CVE-2016-0777. Set SSH_OPTIONS to empty to disable this.
  [ [], ['ssh', 'scp', 'sftp', ], "-oUseRoaming=no"],
  # Add ykcs11 auth to work sessions
  [["work", ], ["ssh", ], "-I /usr/lib/libykcs11.so"],
]

# Output verbosity
# valid values are: LOG_ERROR, LOG_WARN, LOG_INFO, LOG_DEBUG
VERBOSITY = LOG_WARN
